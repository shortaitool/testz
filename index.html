<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Job Test</title>
    <style>
        /* Futuristic Theme: Soft gradients, neon accents, eye-friendly */
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e); /* Soft dark futuristic background */
            color: #ffffff;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        h1 {
            font-size: 2.5em;
            text-align: center;
            margin: 20px 0;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5); /* Neon glow */
            color: #00ffff; /* Cyan for futuristic feel */
        }

        .button-container {
            width: 100%;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .job-button {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #00ffff;
            color: #ffffff;
            padding: 15px;
            font-size: 1.2em;
            cursor: pointer;
            border-radius: 8px;
            transition: background 0.3s ease, box-shadow 0.3s ease;
            position: relative;
        }

        .job-button:hover {
            background: rgba(0, 255, 255, 0.2); /* Light cyan hover */
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
        }

        .job-button.active {
            background: rgba(0, 255, 255, 0.3); /* Selected animation */
            animation: selectAnim 0.5s ease;
        }

        @keyframes selectAnim {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .dropdown {
            display: none;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #00ffff;
            border-radius: 8px;
            padding: 10px;
            margin-top: 5px;
            list-style: none;
        }

        .dropdown li {
            padding: 8px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .dropdown li:last-child {
            border-bottom: none;
        }

        .dropdown li a {
            color: #00ffff;
            text-decoration: none;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            h1 { font-size: 2em; }
            .job-button { font-size: 1em; padding: 12px; }
        }

        /* Admin Panel Styles */
        #admin-panel {
            display: none;
            width: 100%;
            max-width: 600px;
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        #admin-panel input, #admin-panel button, #admin-panel select {
            width: 100%;
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #00ffff;
            background: transparent;
            color: #ffffff;
        }

        #admin-panel button {
            background: #00ffff;
            color: #000;
            cursor: pointer;
        }

        #admin-panel ul {
            list-style: none;
            padding: 0;
        }

        #admin-panel li {
            margin: 5px 0;
            padding: 5px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>Free Job Test</h1>
    <div class="button-container" id="button-container">
        <!-- Job buttons will be dynamically added here -->
    </div>

    <!-- Admin Panel (Password Protected) -->
    <div id="admin-panel">
        <h2>Admin Panel</h2>
        
        <!-- Manage Job Categories -->
        <h3>Manage Job Categories</h3>
        <input type="text" id="new-job-name" placeholder="New Job Name (e.g., Madhya Pradesh Police Test)">
        <input type="text" id="new-job-id" placeholder="New Job ID (e.g., mp-police, lowercase, no spaces)">
        <button onclick="addJobCategory()">Add New Job Category</button>
        
        <h4>Existing Categories</h4>
        <ul id="job-categories-list"></ul>
        
        <!-- Manage Tests for a Category -->
        <h3>Manage Tests for a Category</h3>
        <select id="admin-job-select"></select>
        <input type="text" id="new-test-name" placeholder="New Test Name">
        <button onclick="addTestToJob()">Add Test</button>
        
        <h4>Existing Tests</h4>
        <ul id="tests-list"></ul>
        
        <button onclick="logoutAdmin()">Logout</button>
    </div>

    <script>
        // Data Storage using LocalStorage
        const defaultData = {
            jobs: [
                { id: 'delhi-police', name: 'दिल्ली पुलिस टेस्ट', tests: ['Delhi Test 1', 'Delhi Test 2'] },
                { id: 'rajasthan-police', name: 'राजस्थान पुलिस टेस्ट', tests: ['Rajasthan Test 1', 'Rajasthan Test 2'] },
                { id: 'up-police', name: 'यूपी पुलिस टेस्ट', tests: ['UP Test 1', 'UP Test 2'] },
                { id: 'bihar-police', name: 'बिहार पुलिस टेस्ट', tests: ['Bihar Test 1', 'Bihar Test 2'] },
                { id: 'haryana-police', name: 'हरियाणा पुलिस टेस्ट', tests: ['Haryana Test 1', 'Haryana Test 2'] },
                { id: 'railway-group-d', name: 'रेलवे ग्रुप डी टेस्ट', tests: ['Railway Group D Test 1', 'Railway Group D Test 2'] },
                { id: 'railway-ntpc', name: 'रेलवे एनटीपीसी', tests: ['NTPC Test 1', 'NTPC Test 2'] },
                { id: 'rajasthan-group-d', name: 'राजस्थान ग्रुप डी', tests: ['Rajasthan Group D Test 1', 'Rajasthan Group D Test 2'] },
                { id: 'other1', name: 'अन्य जॉब टेस्ट 1', tests: ['Other 1 Test 1', 'Other 1 Test 2'] },
                { id: 'other2', name: 'अन्य जॉब टेस्ट 2', tests: ['Other 2 Test 1', 'Other 2 Test 2'] }
            ]
        };

        // Load from localStorage or set default
        let data = JSON.parse(localStorage.getItem('jobData')) || defaultData;
        localStorage.setItem('jobData', JSON.stringify(data));

        // Render Job Buttons and Dropdowns Dynamically
        function renderJobs() {
            const container = document.getElementById('button-container');
            container.innerHTML = '';
            data.jobs.forEach(job => {
                const button = document.createElement('button');
                button.classList.add('job-button');
                button.dataset.id = job.id;
                button.textContent = job.name;
                
                const ul = document.createElement('ul');
                ul.classList.add('dropdown');
                ul.id = `${job.id}-list`;
                
                job.tests.forEach(test => {
                    const li = document.createElement('li');
                    li.textContent = test; // Add links if needed: li.innerHTML = `<a href="link">${test}</a>`;
                    ul.appendChild(li);
                });
                
                container.appendChild(button);
                container.appendChild(ul);
            });

            // Add Click Listeners
            document.querySelectorAll('.job-button').forEach(button => {
                button.addEventListener('click', () => {
                    const dropdown = button.nextElementSibling;
                    const isOpen = dropdown.style.display === 'block';

                    // Close all others
                    document.querySelectorAll('.dropdown').forEach(dd => dd.style.display = 'none');
                    document.querySelectorAll('.job-button').forEach(btn => btn.classList.remove('active'));

                    if (!isOpen) {
                        dropdown.style.display = 'block';
                        button.classList.add('active');
                    }
                });
            });
        }
        renderJobs();

        // Admin Panel Logic
        const adminPassword = 'admin123'; // Change this to your desired password

        // Check if already logged in
        if (localStorage.getItem('adminLoggedIn') === 'true') {
            showAdminPanel();
        } else {
            const pass = prompt('Enter Admin Password:');
            if (pass === adminPassword) {
                localStorage.setItem('adminLoggedIn', 'true');
                showAdminPanel();
            } else {
                alert('Wrong Password!');
            }
        }

        function showAdminPanel() {
            document.getElementById('admin-panel').style.display = 'block';
            renderAdminJobs();
            renderJobSelect();
        }

        // Render Job Categories in Admin
        function renderAdminJobs() {
            const list = document.getElementById('job-categories-list');
            list.innerHTML = '';
            data.jobs.forEach(job => {
                const li = document.createElement('li');
                li.textContent = `${job.name} (ID: ${job.id})`;
                
                const editBtn = document.createElement('button');
                editBtn.textContent = 'Edit Name';
                editBtn.onclick = () => editJobName(job.id);
                
                const delBtn = document.createElement('button');
                delBtn.textContent = 'Delete';
                delBtn.onclick = () => deleteJob(job.id);
                
                li.appendChild(editBtn);
                li.appendChild(delBtn);
                list.appendChild(li);
            });
        }

        // Render Select for Jobs in Admin
        function renderJobSelect() {
            const select = document.getElementById('admin-job-select');
            select.innerHTML = '';
            data.jobs.forEach(job => {
                const option = document.createElement('option');
                option.value = job.id;
                option.textContent = job.name;
                select.appendChild(option);
            });
            select.addEventListener('change', renderTestsInAdmin);
            renderTestsInAdmin(); // Initial render
        }

        // Render Tests for Selected Job in Admin
        function renderTestsInAdmin() {
            const jobId = document.getElementById('admin-job-select').value;
            const job = data.jobs.find(j => j.id === jobId);
            const list = document.getElementById('tests-list');
            list.innerHTML = '';
            if (job) {
                job.tests.forEach((test, index) => {
                    const li = document.createElement('li');
                    li.textContent = test;
                    
                    const editBtn = document.createElement('button');
                    editBtn.textContent = 'Edit';
                    editBtn.onclick = () => editTest(jobId, index);
                    
                    const delBtn = document.createElement('button');
                    delBtn.textContent = 'Delete';
                    delBtn.onclick = () => deleteTest(jobId, index);
                    
                    li.appendChild(editBtn);
                    li.appendChild(delBtn);
                    list.appendChild(li);
                });
            }
        }

        // Add New Job Category
        function addJobCategory() {
            const name = document.getElementById('new-job-name').value.trim();
            const id = document.getElementById('new-job-id').value.trim().toLowerCase().replace(/\s/g, '-');
            if (name && id && !data.jobs.find(j => j.id === id)) {
                data.jobs.push({ id, name, tests: [] });
                saveData();
                renderJobs();
                renderAdminJobs();
                renderJobSelect();
                alert('Added!');
            } else {
                alert('Invalid or duplicate ID/Name!');
            }
        }

        // Edit Job Name
        function editJobName(jobId) {
            const newName = prompt('New Name:');
            if (newName) {
                const job = data.jobs.find(j => j.id === jobId);
                job.name = newName;
                saveData();
                renderJobs();
                renderAdminJobs();
                renderJobSelect();
            }
        }

        // Delete Job
        function deleteJob(jobId) {
            if (confirm('Delete this category?')) {
                data.jobs = data.jobs.filter(j => j.id !== jobId);
                saveData();
                renderJobs();
                renderAdminJobs();
                renderJobSelect();
            }
        }

        // Add Test to Job
        function addTestToJob() {
            const jobId = document.getElementById('admin-job-select').value;
            const testName = document.getElementById('new-test-name').value.trim();
            if (jobId && testName) {
                const job = data.jobs.find(j => j.id === jobId);
                job.tests.push(testName);
                saveData();
                renderJobs();
                renderTestsInAdmin();
                alert('Test Added!');
            }
        }

        // Edit Test
        function editTest(jobId, index) {
            const newTest = prompt('New Test Name:');
            if (newTest) {
                const job = data.jobs.find(j => j.id === jobId);
                job.tests[index] = newTest;
                saveData();
                renderJobs();
                renderTestsInAdmin();
            }
        }

        // Delete Test
        function deleteTest(jobId, index) {
            if (confirm('Delete this test?')) {
                const job = data.jobs.find(j => j.id === jobId);
                job.tests.splice(index, 1);
                saveData();
                renderJobs();
                renderTestsInAdmin();
            }
        }

        // Save Data to LocalStorage
        function saveData() {
            localStorage.setItem('jobData', JSON.stringify(data));
        }

        // Logout
        function logoutAdmin() {
            localStorage.removeItem('adminLoggedIn');
            document.getElementById('admin-panel').style.display = 'none';
            alert('Logged Out!');
        }
    </script>
</body>
</html>
