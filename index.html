<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <style>
        /* आपकी पुरानी स्टाइल वही रखी गई है */
        /* सिर्फ एडिट मोड के लिए थोड़ी स्टाइल ऐड की है */
        .edit-mode {
            border: 2px dashed #1a73e8;
            background-color: #e8f0fe;
        }
        .edit-toggle {
            background: #ff9800;
            margin-top: 10px;
        }
        .logout-btn {
            background: #d93025;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            प्रशासनिक पैनल
        </div>
        
        <!-- लॉगिन फॉर्म -->
        <div id="loginContainer" class="login-container" style="display:none;">
            <h2>एडमिन लॉगिन</h2>
            <div class="login-form">
                <div class="form-group">
                    <label for="email">ईमेल</label>
                    <input type="email" id="email" placeholder="अपना ईमेल दर्ज करें">
                </div>
                <div class="form-group">
                    <label for="password">पासवर्ड</label>
                    <input type="password" id="password" placeholder="अपना पासवर्ड दर्ज करें">
                </div>
                <button id="loginBtn">लॉगिन</button>
                <div id="loginError" class="error">गलत ईमेल या पासवर्ड</div>
            </div>
        </div>

        <!-- डैशबोर्ड हमेशा विज़िबल रहेगा -->
        <div id="dashboard" class="dashboard" style="display:block;">
            <h2>मुख्य मेनू</h2>
            <div class="button-grid" id="buttonGrid">
                <div class="main-button">
                    <img src="https://cdn-icons-png.flaticon.com/512/206/206875.png">
                    <h3 contenteditable="false">UP Police S1 2025</h3>
                    <p contenteditable="false">यूपी पुलिस भर्ती परीक्षा</p>
                </div>
                <div class="main-button">
                    <img src="https://cdn-icons-png.flaticon.com/512/3449/3449599.png">
                    <h3 contenteditable="false">SSC CGL Tier-1 2025</h3>
                    <p contenteditable="false">एसएससी सीजीएल परीक्षा</p>
                </div>
            </div>

            <!-- एडमिन पैनल - लॉगिन के बाद ही दिखेगा -->
            <div class="admin-panel" id="adminPanel" style="display:none;">
                <h2>प्रशासनिक नियंत्रण</h2>
                <button id="editToggle" class="edit-toggle">एडिट मोड चालू करें</button>
                <button id="logoutBtn" class="logout-btn">लॉगआउट</button>
                <div class="admin-controls">
                    <div class="form-group">
                        <label for="buttonTitle">नया बटन शीर्षक</label>
                        <input type="text" id="buttonTitle" placeholder="बटन का शीर्षक दर्ज करें">
                    </div>
                    <div class="form-group">
                        <label for="buttonDescription">बटन विवरण</label>
                        <input type="text" id="buttonDescription" placeholder="बटन का विवरण दर्ज करें">
                    </div>
                    <button id="addButton">बटन जोड़ें</button>
                    <div id="adminSuccess" class="success">बटन सफलतापूर्वक जोड़ा गया</div>
                    <div id="adminError" class="error">त्रुटि हुई, पुनः प्रयास करें</div>
                </div>
            </div>
        </div>

        <div class="footer">
            © 2025 Admin Panel. सभी अधिकार सुरक्षित
        </div>
    </div>

    <script>
        // Firebase config
        const firebaseConfig = {
            apiKey: "AIzaSyB0ZKcpIQEnBXHzPsfVNlwdL9Y-iJ4diZY",
            authDomain: "test-246af.firebaseapp.com",
            projectId: "test-246af",
            storageBucket: "test-246af.firebasestorage.app",
            messagingSenderId: "1025448533875",
            appId: "1:1025448533875:web:465de230000c809a1cef06"
        };

        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        const loginContainer = document.getElementById('loginContainer');
        const adminPanel = document.getElementById('adminPanel');
        const editToggle = document.getElementById('editToggle');
        const logoutBtn = document.getElementById('logoutBtn');
        let editMode = false;

        auth.onAuthStateChanged(user => {
            if (user) {
                if (user.email === "admin@example.com") {
                    adminPanel.style.display = 'block';
                    loginContainer.style.display = 'none';
                }
            } else {
                adminPanel.style.display = 'none';
                loginContainer.style.display = 'none'; // केवल एडमिन को दिखाना है जब क्लिक करें
            }
        });

        document.getElementById('loginBtn').addEventListener('click', () => {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            auth.signInWithEmailAndPassword(email, password)
                .then(() => document.getElementById('loginError').style.display = 'none')
                .catch(() => document.getElementById('loginError').style.display = 'block');
        });

        editToggle.addEventListener('click', () => {
            editMode = !editMode;
            const elements = document.querySelectorAll('#buttonGrid h3, #buttonGrid p');
            elements.forEach(el => el.contentEditable = editMode);
            if (editMode) {
                document.getElementById('buttonGrid').classList.add('edit-mode');
                editToggle.textContent = "एडिट मोड बंद करें";
            } else {
                document.getElementById('buttonGrid').classList.remove('edit-mode');
                editToggle.textContent = "एडिट मोड चालू करें";
            }
        });

        logoutBtn.addEventListener('click', () => {
            auth.signOut();
            adminPanel.style.display = 'none';
            loginContainer.style.display = 'none';
        });
    </script>
</body>
</html>
